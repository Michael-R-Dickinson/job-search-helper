from functions.inputs_autofill_helper.autofill_schema import (
    ClassifiedInput,
    ClassifiedInputList,
)
from functions.inputs_autofill_helper.category_handlers.base_category_handler import (
    EnumBasedCategoryHandler,
    get_decline_answer_canonicals,
)


class RaceEthnicityHandler(EnumBasedCategoryHandler):
    def fill_text_input(
        self, classified_input: ClassifiedInput, other_inputs: ClassifiedInputList
    ) -> str | None:
        race_mapping = {
            "asian": "Asian",
            "black": "Black or African American",
            "hispanic": "Hispanic or Latino",
            "white": "White",
            "native_american": "American Indian or Alaska Native",
            "pacific_islander": "Native Hawaiian or Other Pacific Islander",
            "two_or_more": "Two or more races",
            "other": "Other",
            "prefer_not_to_say": "I prefer not to say",
        }

        return race_mapping.get(self._autofill_value, "I prefer not to say")

    @property
    def CANONICALS(self) -> dict[str, list[str]]:
        return {
            "asian": [
                "Asian",
                "Asian American",
                "Asian/Pacific Islander",
                "East Asian",
                "Southeast Asian",
                "South Asian",
                "Chinese",
                "Japanese",
                "Korean",
                "Vietnamese",
                "Filipino",
                "Indian",
                "Pakistani",
                "Bangladeshi",
                "Thai",
                "Cambodian",
                "Laotian",
                "Hmong",
                "Indonesian",
                "Malaysian",
                "Taiwanese",
                "Mongolian",
                "Nepalese",
                "Sri Lankan",
                "Burmese",
                "Asian - Chinese",
                "Asian - Japanese",
                "Asian - Korean",
                "Asian - Vietnamese",
                "Asian - Filipino",
                "Asian - Indian",
                "Asian - Other",
                "A",
            ],
            "black": [
                "Black",
                "Black or African American",
                "African American",
                "African",
                "Black/African American",
                "Afro-American",
                "Negro",
                "Sub-Saharan African",
                "Caribbean",
                "Haitian",
                "Jamaican",
                "Nigerian",
                "Ethiopian",
                "Somali",
                "Ghanaian",
                "Kenyan",
                "South African",
                "Black - African American",
                "Black - African",
                "Black - Caribbean",
                "Black - Other",
                "B",
                "AA",
            ],
            "hispanic": [
                "Hispanic",
                "Hispanic or Latino",
                "Latino",
                "Latina",
                "Latinx",
                "Latin",
                "Spanish",
                "Mexican",
                "Mexican American",
                "Chicano",
                "Puerto Rican",
                "Cuban",
                "Dominican",
                "Salvadoran",
                "Guatemalan",
                "Honduran",
                "Nicaraguan",
                "Costa Rican",
                "Panamanian",
                "Colombian",
                "Venezuelan",
                "Peruvian",
                "Ecuadorian",
                "Bolivian",
                "Chilean",
                "Argentinian",
                "Uruguayan",
                "Paraguayan",
                "Brazilian",
                "Spanish American",
                "Central American",
                "South American",
                "Hispanic - Mexican",
                "Hispanic - Puerto Rican",
                "Hispanic - Cuban",
                "Hispanic - Other",
                "H",
            ],
            "white": [
                "White",
                "White or Caucasian",
                "Caucasian",
                "European",
                "European American",
                "Anglo",
                "Anglo-Saxon",
                "Caucasian/White",
                "White - European",
                "White - Middle Eastern",
                "White - North African",
                "White - Other",
                "German",
                "Irish",
                "English",
                "Italian",
                "Polish",
                "French",
                "Russian",
                "Scottish",
                "Dutch",
                "Norwegian",
                "Swedish",
                "Greek",
                "Portuguese",
                "W",
            ],
            "native_american": [
                "Native American",
                "American Indian",
                "American Indian or Alaska Native",
                "Alaska Native",
                "Indigenous",
                "Native",
                "First Nations",
                "Aboriginal",
                "Tribal",
                "Cherokee",
                "Navajo",
                "Sioux",
                "Chippewa",
                "Choctaw",
                "Apache",
                "Blackfeet",
                "Iroquois",
                "Pueblo",
                "Creek",
                "Seminole",
                "Eskimo",
                "Aleut",
                "Inuit",
                "Native American - Cherokee",
                "Native American - Navajo",
                "Native American - Other",
                "American Indian/Alaska Native",
                "AI/AN",
                "NA",
            ],
            "pacific_islander": [
                "Pacific Islander",
                "Native Hawaiian",
                "Native Hawaiian or Other Pacific Islander",
                "Hawaiian",
                "Polynesian",
                "Micronesian",
                "Melanesian",
                "Samoan",
                "Fijian",
                "Tongan",
                "Tahitian",
                "Marshallese",
                "Palauan",
                "Chuukese",
                "Yapese",
                "Pohnpeian",
                "Kosraean",
                "Chamorro",
                "Guamanian",
                "Carolinian",
                "Native Hawaiian - Hawaiian",
                "Native Hawaiian - Samoan",
                "Native Hawaiian - Other",
                "NHOPI",
                "PI",
            ],
            "two_or_more": [
                "Two or more races",
                "Multiracial",
                "Multi-racial",
                "Mixed race",
                "Mixed",
                "Biracial",
                "Bi-racial",
                "Multiple races",
                "More than one race",
                "Multiple",
                "Multiethnic",
                "Multi-ethnic",
                "Two or More Races",
                "2 or more races",
                "Multiple race",
                "Mixed heritage",
                "TM",
            ],
            "other": [
                "Other",
                "Some other race",
                "Not listed",
                "Not specified",
                "Different",
                "Another race",
                "Other race",
                "Unlisted",
                "Not above",
                "None of the above",
                "Something else",
                "O",
            ],
            "prefer_not_to_say": get_decline_answer_canonicals(),
        }

    @property
    def VALUE_PATH(self) -> str:
        return "race/race"
